<html>

<head>
  <meta charset="UTF-8">
  <title>WebSocket Client</title>

</head>

<body>
  <button onclick="SuzukazeAoba();" id="join">SuzukazeAoba</button>
  <button onclick="IijimaYun();" id="join">IijimaYun</button>
  <button onclick="TakimotoHifumi();" id="join">TakimotoHifumi</button>
  <button onclick="ShinodaHajime();" id="join">ShinodaHajime</button>
  <button onclick="start_match();" id="join">start_match</button>
  <button onclick="cancel_match();" id="join">cancel_match</button>
  <!-- <button onclick="complete_match();" id="join">complete_match</button> -->
  <!-- <button onclick="game_start();" id="join">game_start</button> -->
  <!-- <button onclick="game_finish();" id="join">game_finish</button> -->
  <!-- <button onclick="game_time();" id="join">game_time</button> -->
  <!-- <button onclick="game_score();" id="join">game_score</button> -->
  <button onclick="shoot_ball();" id="join">shoot_ball</button>
  <button onclick="move_bar();" id="join">move_bar</button>
  <button onclick="launch_special();" id="join">launch_special</button>
  <button onclick="reflect_ball();" id="join">reflect_ball</button>
  <button onclick="goal();" id="join">goal</button>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.slim.js"></script>
  <script type="text/javascript">
    // var socketio = io.connect('http://ec2-54-201-20-190.us-west-2.compute.amazonaws.com:3000/');
    var socketio = io.connect('http://localhost:3000/');
    var deviceId = "";
    var userName = "";

    function rand(max) {
      return Math.floor( Math.random() * max);
    }

    var ballTypes = [ 'normal', 'speed', 'skeleton', 'heavy', 'special' ];
    var ballType  = ballTypes[rand(5)];

    function SuzukazeAoba() {
      userName = "Test_" + "SuzukazeAoba";
      deviceId = userName + "_Id"
    }

    function IijimaYun() {
      userName = "Test_" + "IijimaYun";
      deviceId = userName + "_Id"
    }

    function TakimotoHifumi() {
      userName = "Test_" + "TakimotoHifumi";
      deviceId = userName + "_Id"
    }

    function ShinodaHajime() {
      userName = "Test_" + "ShinodaHajime";
      deviceId = userName + "_Id"
    }

    function start_match() {
      socketio.emit('message', {
        type: `start_match`,
        device_id: deviceId,
        user_name: userName
      });
    }

    function cancel_match() {
      socketio.emit('message', {
        type: `cancel_match`,
        device_id: deviceId
      });
    }

    function shoot_ball() {
      socketio.emit('message', {
        type: `shoot_ball`,
        roomId: 0,
        device_id: deviceId,
        ballType: ballTypes[rand(5)],
        x: rand(50),
        y: rand(50),
      });
    }

    function move_bar() {
      socketio.emit('message', {
        type: `move_bar`,
        room_id: 0,
        device_id: deviceId,
        ballType: ballTypes[rand(5)],
        x: rand(50),
        y: rand(50),
      });
    }

    function launch_special() {
      socketio.emit('message', {
        type: `launch_special`,
        room_id: 0,
        device_id: deviceId,
        ballType: ballTypes[rand(5)],
        x: rand(50),
        y: rand(50),
      });
    }

    function reflect_ball() {
      socketio.emit('message', {
        type: `reflect_ball`,
        room_id: 0,
        device_id: deviceId,
        ballType: ballTypes[rand(5)],
        x: rand(50),
        y: rand(50),
      });
    }

    function goal() {
      socketio.emit('message', {
        type: `goal`,
        room_id: 0,
        device_id: deviceId,
        ballType: ballTypes[rand(5)],
        x: rand(50),
        y: rand(50),
      });
    }

    socketio.on('message', function(data) {
      console.log(data);
    });
  </script>
</body>

</html>